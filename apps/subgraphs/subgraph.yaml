specVersion: 0.0.4
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: MoonpageManager
    network: mumbai
    source:
      address: '0xaf7cE20f494c4c17B8ce5D67b797cc2E325A89b0'
      abi: MoonpageManager
      startBlock: 27828385
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Project
        - Edition
        - Contributor
      abis:
        - name: MoonpageManager
          file: ./abis/MoonpageManager.json
      eventHandlers:
        - event: ProjectCreated(address,address,uint256,string,string,string,uint256,uint256,uint256,uint256,uint256)
          handler: handleProjectCreated
        - event: NextEditionEnabled(uint256,uint256,uint256,uint256,uint256,uint256)
          handler: handleNextEditionEnabled
        - event: Configured(uint256,string,string,string,string,string)
          handler: handleProjectConfigured
        - event: ContributorAdded(uint256,address,uint256,string)
          handler: handleContributorAdded
        - event: BaseDataFrozen(uint256,bool)
          handler: handleBaseDataFrozen
        - event: PremintedByAuthor(uint256,uint256)
          handler: handlePremintedByAuthor
        - event: TextUpdated(uint256,string)
          handler: handleTextUpdated
        - event: BlurbUpdated(uint256,string)
          handler: handleBlurbUpdated
        - event: ImageUpdated(uint256,string)
          handler: handleImageUpdated
        - event: AnimationUpdated(uint256,string)
          handler: handleAnimationUpdated
        - event: TokenIdIncreased(uint256,uint256)
          handler: handleTokenIdIncreased
        - event: BalanceIncreased(uint256,uint256)
          handler: handleBalanceIncreased
        - event: BalanceDecreased(uint256,uint256)
          handler: handleBalanceDecreased
        - event: ProjectPaused(uint256,bool)
          handler: handlePaused
        - event: Curated(uint256,bool)
          handler: handleCurated
      file: ./src/mapping.ts
  - kind: ethereum
    name: MoonpageCollection
    network: mumbai
    source:
      address: '0xE04829d36b53F8307e8836bffC4F1f729E3e8333'
      abi: MoonpageCollection
      startBlock: 27828385
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Project
        - Mint
      abis:
        - name: MoonpageCollection
          file: ./abis/MoonpageCollection.json
      eventHandlers:
        - event: Minted(uint256,uint256,address,uint256)
          handler: handleMint
      file: ./src/mapping.ts
  - kind: ethereum
    name: AuctionsManager
    network: mumbai
    source:
      address: '0xF3A8e6884983cFFEF676CcE2150807B0308e343b'
      abi: AuctionsManager
      startBlock: 27828385
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - Project
      abis:
        - name: AuctionsManager
          file: ./abis/AuctionsManager.json
      eventHandlers:
        - event: AuctionsStarted(uint256,uint256)
          handler: handleAuctionsStarted
        - event: AuctionsEnded(uint256,uint256)
          handler: handleAuctionsEnded
        - event: ExpirationSet(uint256,uint256)
          handler: handleExpirationSet
      file: ./src/mapping.ts
