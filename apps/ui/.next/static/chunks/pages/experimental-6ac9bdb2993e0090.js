(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{32053:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/experimental",function(){return t(77783)}])},77783:function(n,e,t){"use strict";t.r(e),t.d(e,{FadeIn:function(){return bn}});var r=t(94776),i=t.n(r),o=t(52322),u=t(2784),a=t(3411),c=t(95468),s=t(37268),l=t(5632),d=t(27346),f=t(53869),p=t(93998),m=t(18217),x=t(81013),h=t(45500),v=t(27289),g=t(78639),b=t(48965),w=t(77603),j=t(74744),S=t(17887),y=t(35181),P=t(17024),Z=t(88909),k=t(44861),C=t(18105),O=t(29019),E=t(57155),T=t(78529),A=t(94594),_=t(46653),N=t(50002),F=t(45641),I=t(17757),M=t(37563),D=t(10677),B=t(10528),H=t(48834).Buffer;function L(n,e,t,r,i,o,u){try{var a=n[o](u),c=a.value}catch(s){return void t(s)}a.done?e(c):Promise.resolve(c).then(r,i)}function R(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function u(n){L(o,r,i,u,a,"next",n)}function a(n){L(o,r,i,u,a,"throw",n)}u(void 0)}))}}function z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})))),r.forEach((function(e){z(n,e,t[e])}))}return n}function W(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function X(){var n=W(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  margin-block: 3rem 6rem;\n"]);return X=function(){return n},n}function $(){var n=W(["\n  padding-inline: 6rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  @media (max-width: 900px) {\n    padding-inline: 2rem;\n  }\n"]);return $=function(){return n},n}function G(){var n=W(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  max-width: 1200px;\n  margin-block-end: 3rem;\n\n  @media (max-width: 900px) {\n    margin-block-end: 2rem;\n  }\n"]);return G=function(){return n},n}function q(){var n=W(["\n  width: 100%;\n  max-width: 1200px;\n  border-radius: ",";\n  box-shadow: ",";\n  padding: 3rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: flex-start;\n"]);return q=function(){return n},n}function J(){var n=W(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]);return J=function(){return n},n}function Q(){var n=W(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: row;\n\n  @media (max-width: 900px) {\n    flex-direction: column;\n  }\n"]);return Q=function(){return n},n}function U(){var n=W(["\n  flex: 1;\n  flex-direction: column;\n  max-width: 230px;\n"]);return U=function(){return n},n}function V(){var n=W(["\n  flex: 1;\n  padding: 1rem 1rem 1rem 3rem;\n\n  @media (max-width: 900px) {\n    padding: 2rem 0 0 0;\n  }\n"]);return V=function(){return n},n}function Y(){var n=W(["\n  width: 100%;\n  margin-block-end: 1rem;\n"]);return Y=function(){return n},n}function nn(){var n=W(["\n  font-family: ",";\n  display: inline-block;\n  margin-block-end: 0.5rem;\n"]);return nn=function(){return n},n}function en(){var n=W(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return en=function(){return n},n}function tn(){var n=W(["\n  font-family: ",";\n"]);return tn=function(){return n},n}function rn(){var n=W(["\n  display: flex;\n  flex-direction: column;\n"]);return rn=function(){return n},n}function on(){var n=W(["\n  width: 100%;\n  animation: fadein 2s;\n\n  @keyframes fadein {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n"]);return on=function(){return n},n}var un=a.ZP.div(X()),an=a.ZP.div($()),cn=a.ZP.div(G()),sn=a.ZP.div(q(),c.B,(function(n){return n.theme.BASE_BOX_SHADOW})),ln=a.ZP.div(J()),dn=a.ZP.div(Q()),fn=a.ZP.div(U()),pn=a.ZP.div(V()),mn=a.ZP.div(Y()),xn=a.ZP.label(nn(),c.Bf),hn=a.ZP.div(en()),vn=a.ZP.p(tn(),c.cr),gn=a.ZP.div(rn()),bn=a.ZP.div(on());e.default=function(){var n,e,t,r=(0,I.r)().createProject,a=(0,M.v)(),L=a.configureProject,W=a.configureStatus,X=a.setContributors,$=a.setContributorsStatus,G=(0,s.K)().startAuctions,q=(0,x.F)(),J=(0,h.c)(),Q=(0,f.Z)().uploadText,U=(0,l.useRouter)(),V=(0,u.useState)(0),Y=V[0],nn=V[1],en=(0,u.useState)(""),tn=en[0],rn=en[1],on=(0,u.useState)(),bn=on[0],wn=on[1],jn=(0,u.useState)("English"),Sn=jn[0],yn=(jn[1],(0,u.useState)(!1)),Pn=yn[0],Zn=yn[1],kn=(0,u.useState)(!1),Cn=kn[0],On=kn[1],En=(0,u.useState)("0"),Tn=En[0],An=En[1],_n=(0,u.useState)(0),Nn=_n[0],Fn=_n[1],In=(0,u.useState)(null),Mn=In[0],Dn=In[1],Bn=(0,u.useState)(null),Hn=Bn[0],Ln=Bn[1],Rn=(0,u.useState)(null),zn=Rn[0],Kn=Rn[1],Wn=(0,u.useState)(!1),Xn=Wn[0],$n=Wn[1],Gn=(0,u.useState)(""),qn=Gn[0],Jn=Gn[1],Qn=(0,u.useState)(),Un=Qn[0],Vn=Qn[1],Yn=(0,u.useState)(""),ne=Yn[0],ee=Yn[1],te=(0,u.useState)(""),re=te[0],ie=te[1],oe=(0,u.useState)(""),ue=oe[0],ae=oe[1],ce=(0,u.useState)(!1),se=ce[0],le=ce[1],de=(0,u.useState)(null),fe=de[0],pe=de[1],me=(0,u.useState)(),xe=me[0],he=me[1],ve=(0,u.useState)(!1),ge=ve[0],be=ve[1],we=(0,u.useState)(null),je=we[0],Se=we[1],ye=(0,u.useMemo)((function(){return!!(null===fe||void 0===fe?void 0:fe.type)}),[fe]),Pe=function(){var n=R(i().mark((function n(e){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),he(null),be(!0),n.prev=3,n.next=6,fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:fe.topic,mood:fe.mood,type:fe.type,words:fe.words})});case 6:return t=n.sent,n.next=9,t.json();case 9:r=n.sent,Se(null),he(r.result),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(3),console.log({e:n.t0}),Se("Sorry, something went wrong while trying to talk to the AI. Refresh and try again. (2)");case 18:be(!1);case 19:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e){return n.apply(this,arguments)}}(),Ze=(0,u.useMemo)((function(){return!(ue.trim().length||re.trim().length||(null===Un||void 0===Un?void 0:Un.length)||qn.trim().length)}),[ue,re,Un,qn]),ke=(0,u.useCallback)(R(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return le(!0),n.next=3,Q(bn);case 3:return e=n.sent,le(!1),n.next=7,r({title:tn,text:bn,textIpfsHash:e,originalLanguage:Sn,initialMintPrice:(0,D.fi)(Tn),firstEditionAmount:B.O$.from(Nn.toString()),onSuccess:function(n){nn(Y+1),Dn(n)},onError:void 0});case 7:case"end":return n.stop()}}),n)}))),[r,Y,Nn,Tn,Sn,tn,bn,Q]),Ce=(0,u.useCallback)(R(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,L({projectId:Mn,imgFile:zn,imgHash:qn,animationHash:"",blurb:Un,blurbHash:ne,genre:re,subtitle:ue,onSuccess:function(){nn(Y+1)}});case 2:case"end":return n.stop()}}),n)}))),[Un,ne,L,qn,Y,re,zn,Mn,ue]),Oe=(0,u.useState)({1:{address:"",share:0,role:""},2:{address:"",share:0,role:""},3:{address:"",share:0,role:""}}),Ee=Oe[0],Te=Oe[1],Ae=(0,u.useMemo)((function(){var n=[];return Object.entries(Ee).map((function(e){e[1].address.length>0&&e[1].share>0&&n.push(e[1])})),n}),[Ee]),_e=(0,u.useCallback)(R(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X({projectId:Mn,contributorsList:Ae,onSuccess:function(){nn(Y+1)}});case 2:case"end":return n.stop()}}),n)}))),[Ae,Y,Mn,X]),Ne=(0,u.useCallback)(function(){var n=R(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return $n(!0),e.preventDefault(),n.next=4,J.add(Hn);case 4:t=n.sent,Jn(t.path),nn(Y+1),$n(!1);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[J,Hn,Y]),Fe=(0,u.useCallback)(R(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return le(!0),n.next=3,Q(Un);case 3:e=n.sent,le(!1),ee(e),nn(Y+1);case 7:case"end":return n.stop()}}),n)}))),[Un,Y,Q]),Ie=(0,u.useCallback)(function(){var n=R(i().mark((function n(e){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G({projectId:Mn,amountForCreator:e,initialMintPrice:(0,D.fi)(Tn),onSuccess:function(){return U.push("projects/".concat(Mn))}});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[Tn,Mn,U,G]),Me=["poem","haiku","story","lyrics","riddle"].map((function(n){return{id:n,value:n,onSelect:function(){pe(K({},fe,{type:n}))}}})),De=(0,u.useMemo)((function(){if(null===fe||void 0===fe?void 0:fe.words){var n=fe.words.split(","),e=n.join(", ").replace(/, ([^,]*)$/," and $1");return n.length>=1?e:""}}),[null===fe||void 0===fe?void 0:fe.words]);return(0,o.jsxs)(un,{children:[(0,o.jsx)(m.Z,{color:c.p6,margin:"0 0 4rem 0",children:"Create"}),(0,o.jsxs)(an,{children:[(0,o.jsx)(cn,{children:(0,o.jsx)(p.Z,{completed:Y?Y/13*100:0})}),(0,o.jsx)(d.Z,{show:!!Mn}),(0,o.jsxs)(sn,{theme:q,children:[0===Y&&(0,o.jsxs)(ln,{children:[(0,o.jsx)(m.Z,{children:"Tell the AI what kind of text you want."}),(0,o.jsx)("br",{}),(0,o.jsxs)(dn,{children:[(0,o.jsxs)(fn,{children:[(0,o.jsx)(xn,{children:"Format"}),(0,o.jsx)(mn,{children:(0,o.jsx)(w.Z,{options:Me,placeholder:"Select Text Type",isDisabled:ge,isRequiredField:!0,width:"100%"})}),(0,o.jsx)(v.ZP,{disabled:ge,label:"Topic",type:"text",isErrorPossible:!1,placeholder:"Christmas",value:null===fe||void 0===fe?void 0:fe.topic,onChange:function(n){return pe(K({},fe,{topic:n.target.value}))}}),(0,o.jsx)(v.ZP,{disabled:ge,label:"Mood",isErrorPossible:!1,type:"text",placeholder:"Scary",value:null===fe||void 0===fe?void 0:fe.mood,onChange:function(n){return pe(K({},fe,{mood:n.target.value}))}}),(0,o.jsx)(v.ZP,{disabled:ge,label:"Words",isErrorPossible:!1,tooltipText:"Comma-seperated list of words that should be used by AI",type:"text",placeholder:"heart, apple",value:null===fe||void 0===fe?void 0:fe.words,onChange:function(n){return pe(K({},fe,{words:n.target.value}))}}),(0,o.jsxs)(gn,{children:[(0,o.jsx)(g.Z,{onClick:Pe,disabled:!ye||ge,loading:ge,text:"Generate Text",margin:"1rem 0 1rem 0"}),(0,o.jsx)(g.Z,{onClick:function(){var n=(0,S.i)(xe);""===n[0].children[0].text&&""===n[1].children[0].text&&n.splice(0,2),wn(n),nn(1)},disabled:!ye||ge,loading:ge,text:"Continue with Draft",margin:"1rem 0 1rem 0"})]})]}),(0,o.jsxs)(pn,{children:[ye&&(0,o.jsx)(m.Z,{padding:"0 0 1rem 0",size:"m",color:c.p6,textAlign:"left",children:"AI will write ".concat(["a","e","i","o","u"].includes(null===fe||void 0===fe||null===(n=fe.mood)||void 0===n||null===(e=n[0])||void 0===e?void 0:e.toLowerCase())?"an":"a"," ").concat(null!==(t=null===fe||void 0===fe?void 0:fe.mood)&&void 0!==t?t:""," ").concat(null===fe||void 0===fe?void 0:fe.type).concat((null===fe||void 0===fe?void 0:fe.topic)?" about "+fe.topic:"",".").concat(De?" Words used: ".concat(De,"."):"")}),xe&&!je&&(0,o.jsx)(vn,{children:xe}),!xe&&je&&(0,o.jsx)(vn,{children:je}),ge&&(0,o.jsx)(hn,{children:(0,o.jsx)(b.Z,{height:30,dotHeight:30})})]})]})]}),1===Y&&(0,o.jsx)(j.Z,{onKeyDown:function(n){return wn(n)},onSubmit:function(){return nn(Y+1)},text:bn}),2===Y&&(0,o.jsx)(y.Z,{onChange:function(n){return rn(n.target.value)},onSubmit:function(){return nn(Y+1)},title:tn}),3===Y&&(0,o.jsx)(P.Z,{onChange:function(n){return Fn(Number(n.target.value))},onSubmit:function(){return nn(Y+1)},firstEdMaxAmount:Nn}),4===Y&&(0,o.jsx)(Z.Z,{onChange:function(n){return An(n.target.value)},onSubmit:function(){return nn(Y+1)},firstEdMintPrice:Tn}),5===Y&&(0,o.jsx)(k.Z,{agreedToTerm1:Pn,agreedToTerm2:Cn,language:Sn,title:tn,text:bn,firstEdMaxAmount:Nn,firstEdMintPrice:Tn,onCheckTerm1:function(){return Zn(!Pn)},onCheckTerm2:function(){return On(!Cn)},isPinPending:se,createDao:ke}),6===Y&&(0,o.jsx)(C.Z,{onSubmit:function(){nn(Y+1)}}),7===Y&&(0,o.jsx)(O.ZP,{captureFile:function(n){var e=new window.FileReader;e.readAsArrayBuffer(n),e.onloadend=function(){var t=H.from(e.result);Kn(n),Ln(t)}},imgFile:zn,imgBuffer:Hn,onNextStep:function(){return nn(Y+1)},onSubmit:Ne,pending:Xn,reset:function(){return Jn("")}}),8===Y&&(0,o.jsx)(E.Z,{blurb:Un,onKeyDown:function(n){return Vn(n)},onNextStep:function(){return nn(Y+1)},onSubmit:Fe,pending:se,reset:function(){return Vn(void 0)}}),9===Y&&(0,o.jsx)(T.Z,{genre:re,onGenreSet:function(n){return ie(n)},onNextStep:function(){return nn(Y+1)},reset:function(){return ie("")}}),10===Y&&(0,o.jsx)(A.Z,{subtitle:ue,onChange:function(n){return ae(n.target.value)},onNextStep:function(){return nn(Y+(Ze?2:1))},reset:function(){return ae("")}}),11===Y&&(0,o.jsx)(_.Z,{genre:re,subtitle:ue,blurb:Un,imgFile:zn,loading:"confirming"===W||"waiting"===W||se,blurbIPFS:ne,onSubmit:Ce}),12===Y&&(0,o.jsx)(N.Z,{contributors:Ee,contributorsList:Ae,loading:"confirming"===$||"waiting"===$,onChange:function(n,e,t){return Te(K({},Ee,z({},n,K({},Ee[n],z({},e,t)))))},onNextStep:function(){return nn(Y+1)},onSubmit:_e}),13===Y&&(0,o.jsx)(F.Z,{projectId:Mn,onStartAuctions:Ie})]})]})]})}}},function(n){n.O(0,[774,888,179],(function(){return e=32053,n(n.s=e);var e}));var e=n.O();_N_E=e}]);