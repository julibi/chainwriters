(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{6159:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mybookshelf",function(){return r(4272)}])},4853:function(n,e,r){"use strict";r.d(e,{xC:function(){return j},NZ:function(){return m}});var t=r(2322),i=(r(2784),r(3411)),c=r(2024),o=r(5468),u=r(8965),a=r(612),d=r(8217);function s(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function l(){var n=s(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return l=function(){return n},n}function f(){var n=s(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"]);return f=function(){return n},n}function h(){var n=s(["\n  text-align: center;\n  font-family: ",";\n  font-size: 54px;\n  padding: 1rem;\n\n  @media (max-width: 900px) {\n    margin-block-start: 1rem;\n  }\n"]);return h=function(){return n},n}function p(){var n=s(["\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  flex-wrap: wrap;\n  padding: 3rem 3rem 6rem 3rem;\n\n  @media (max-width: 900px) {\n    padding: 3rem;\n  }\n"]);return p=function(){return n},n}var x=i.ZP.section(l()),j=i.ZP.div(f()),m=i.ZP.h1(h(),o.c7),v=i.ZP.section(p());e.ZP=function(){var n=(0,c.Z)(),e=n.topProjects,r=n.areTopProjectsLoading;return(0,t.jsxs)(x,{children:[(0,t.jsx)(d.Z,{children:"Top Projects"}),r&&!e&&(0,t.jsx)(u.Z,{height:530}),(0,t.jsx)(v,{children:null===e||void 0===e?void 0:e.map((function(n,e){var r=n.id,i=n.title,c=n.createdAt,o=n.creator,u=n.imgIpfsHash,d=n.subtitle,s=n.genre;return(0,t.jsx)(a.L,{id:r,createdAt:c,creator:o,title:i,imgIpfsHash:u,subtitle:d,genre:s},e)}))})]})}},612:function(n,e,r){"use strict";r.d(e,{L:function(){return y}});var t=r(2322),i=(r(2784),r(6577)),c=r(3411),o=r(5632),u=r(5468),a=r(3092);function d(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function s(){var n=d(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 260px;\n  height: 400px;\n  margin: 1rem;\n  padding: 1rem;\n\n  border-radius: ",";\n  box-shadow: ",";\n\n  :hover {\n    cursor: pointer;\n  }\n"]);return s=function(){return n},n}function l(){var n=d(["\n  flex: 1;\n\n  span {\n    width: 100% !important;\n    height: 100% !important;\n\n    img {\n      object-fit: contain !important;\n    }\n  }\n"]);return l=function(){return n},n}function f(){var n=d(["\n  flex: 1;\n  font-family: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return f=function(){return n},n}function h(){var n=d(["\n  color: ",";\n  font-family: ",";\n  margin-block-end: 0;\n"]);return h=function(){return n},n}function p(){var n=d(["\n  display: flex;\n  justify-content: space-between;\n"]);return p=function(){return n},n}function x(){var n=d(["\n  color: ",";\n"]);return x=function(){return n},n}var j=c.ZP.div(s(),u.B,u.S0),m=c.ZP.div(l()),v=c.ZP.div(f(),u.jI),g=c.ZP.h4(h(),u.hl,u.UY),b=c.ZP.div(p()),P=c.ZP.span(x(),u._I),y=function(n){var e=n.id,r=n.createdAt,c=n.creator,d=n.title,s=n.imgIpfsHash,l=n.subtitle,f=n.genre,h=(0,o.useRouter)(),p=new Date(1e3*Number(r)).toLocaleDateString("en-US");return(0,t.jsxs)(j,{onClick:function(n){n.preventDefault(),h.push("projects/".concat(e))},children:[(0,t.jsx)(m,{children:(0,t.jsx)(i.default,{src:s?"https://ipfs.io/ipfs/".concat(s):"/ImgPlaceholder.png",height:"100%",width:"100%",alt:"Project Image",priority:!0})}),(0,t.jsxs)(v,{children:[(0,t.jsx)(g,{children:d}),(0,t.jsx)(b,{children:(0,t.jsx)(P,{style:{color:u.hl},children:null!==l&&void 0!==l?l:""})}),(0,t.jsxs)(b,{children:[(0,t.jsx)(P,{children:"Genre"}),(0,t.jsx)("div",{children:null!==f&&void 0!==f?f:"Unknown"})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(P,{children:"Created"}),(0,t.jsx)("div",{children:p})]}),(0,t.jsxs)(b,{children:[(0,t.jsx)(P,{children:"Author"}),(0,t.jsx)("div",{children:(0,a.F)(c)})]})]})]})}},4272:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return K}});var t=r(2322),i=r(2784),c=r(8975),o=r(5632),u=r(3411),a=r(4853),d=r(5468),s=r(8965),l=r(138),f=r(9297);function h(){var n,e,r=(n=["\n  query oneProjectQuery($account: String!) {\n    projects(where: { creator: $account }) {\n      auctionsEnded\n      auctionsStarted\n      blurbIpfsHash\n      contributors {\n        id\n        address\n        sharePercentage\n        role\n      }\n      createdAt\n      creator\n      currentId\n      editions {\n        id\n        edition\n        startId\n        endId\n        mintPrice\n      }\n      endId\n      genre\n      id\n      imgIpfsHash\n      initialMintPrice\n      mintCount\n      premintedByAuthor\n      startId\n      subtitle\n      textIpfsHash\n      title\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return h=function(){return r},r}var p=(0,l.Ps)(h());var x=r(3092);function j(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function m(){var n=j(["\n  width: 100%;\n  max-width: 1200px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-radius: ",";\n  box-shadow: ",";\n  padding: 1rem;\n  margin-block-end: 1rem;\n"]);return m=function(){return n},n}function v(){var n=j(["\n  display: inline-block;\n"]);return v=function(){return n},n}function g(){var n=j(["\n  width: 30%;\n"]);return g=function(){return n},n}function b(){var n=j(["\n  font-family: 'Inter Black';\n"]);return b=function(){return n},n}function P(){var n=j(["\n  @media (max-width: 900px) {\n    display: none;\n  }\n"]);return P=function(){return n},n}function y(){var n=j(["\n  @media (max-width: 900px) {\n    display: none;\n  }\n"]);return y=function(){return n},n}function w(){var n=j(["\n  display: flex;\n\n  @media (max-width: 900px) {\n    display: flex;\n    flex-direction: column;\n  }\n"]);return w=function(){return n},n}function Z(){var n=j(["\n  margin-inline-start: 1rem;\n\n  @media (max-width: 900px) {\n    padding: 0.5rem;\n    margin-block-end: 0.5rem;\n  }\n"]);return Z=function(){return n},n}function k(){var n=j(["\n  margin-inline-start: 1rem;\n  background-color: ",";\n\n  @media (max-width: 900px) {\n    padding: 0.5rem;\n  }\n"]);return k=function(){return n},n}var O=u.ZP.div(m(),d.B,d.S0),C=u.ZP.span(v()),I=(0,u.ZP)(C)(g()),N=(0,u.ZP)(C)(b()),z=(0,u.ZP)(C)(P()),_=(0,u.ZP)(C)(y()),L=u.ZP.div(w()),M=(0,u.ZP)(d.Yd)(Z()),R=(0,u.ZP)(d.Yd)(k(),d.hl),S=function(n){var e=n.group,r=n.onClickDetails,i=n.onClickRead;return(0,t.jsxs)(O,{children:[(0,t.jsxs)(I,{children:[(0,t.jsx)(N,{children:e[0].title}),e[0].creator&&(0,t.jsx)("span",{children:" - by ".concat((0,x.F)(e[0].creator))})]}),e[0].edition&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(z,{children:"Genesis Editions: ".concat(e.filter((function(n){return 1===n.edition})).length)}),(0,t.jsx)(z,{children:"Other Editions: ".concat(e.filter((function(n){return 1!==n.edition})).length)})]}),e[0].contributionRole&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(_,{children:"".concat(e[0].contributionSharePercentage,"% for ").concat(e[0].contributionRole)})}),(0,t.jsxs)(L,{children:[(0,t.jsx)(M,{onClick:r,children:"Project"}),(0,t.jsx)(R,{onClick:i,children:"Read"})]})]})};function D(){var n,e,r=(n=["\n  query contributionsQuery($account: String!) {\n    contributors(where: { address: $account }) {\n      sharePercentage\n      address\n      role\n      project {\n        id\n        title\n        creator\n      }\n    }\n  }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return D=function(){return r},r}var E=(0,l.Ps)(D());var F=r(7402);function Y(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}function A(){var n=Y(["\n  display: flex;\n  flex-direction: column;\n  margin: 3rem;\n\n  @media (max-width: 900px) {\n    margin: 3rem 2rem;\n  }\n"]);return A=function(){return n},n}function B(){var n=Y(["\n  min-height: 300px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return B=function(){return n},n}function H(){var n=Y(["\n  display: inline-block;\n"]);return H=function(){return n},n}function T(){var n=Y(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 3rem;\n\n  @media (max-width: 900px) {\n    padding: 0;\n  }\n"]);return T=function(){return n},n}function G(){var n=Y(["\n  display: inline-block;\n  font-family: ",";\n  text-align: center;\n  border-radius: ",";\n  box-shadow: ",";\n  margin-block-end: 3rem;\n  padding: 0.5rem;\n  width: fit-content;\n"]);return G=function(){return n},n}function U(){var n=Y(["\n  display: inline-block;\n"]);return U=function(){return n},n}var $=u.ZP.div(A()),q=u.ZP.div(B()),Q=u.ZP.span(H()),X=u.ZP.section(T()),J=u.ZP.h3(G(),d.UY,d.B,d.S0),K=(u.ZP.span(U()),function(){var n=(0,o.useRouter)(),e=(0,c.Ge)().account,r=(0,F.a)(),u=r.groupedNfts,d=r.isLoading,l=function(){var n=(0,c.Ge)().account,e=(0,f.a)(p,{variables:{account:n}}),r=e.loading,t=e.error,o=e.data,u=e.refetch;return(0,i.useMemo)((function(){return{isLoading:r,error:t,projects:o&&o.projects,refetch:u}}),[r,t,o,u])}(),h=l.projects,x=l.isLoading,j=function(){var n=(0,c.Ge)().account,e=(0,f.a)(E,{variables:{account:n}}),r=e.loading,t=e.error,o=e.data,u=e.refetch;return(0,i.useMemo)((function(){return{isLoading:r,error:t,contributions:o&&o.contributors,refetch:u}}),[r,t,o,u])}(),m=j.contributions,v=j.isLoading,g=(0,i.useCallback)((function(e,r){e.preventDefault(),n.push("/projects/".concat(r,"/read"))}),[n]),b=(0,i.useCallback)((function(e,r){e.preventDefault(),n.push("/projects/".concat(r))}),[n]);return(0,t.jsxs)($,{children:[(0,t.jsx)(a.xC,{children:(0,t.jsx)(a.NZ,{children:"My Bookshelf"})}),e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(X,{children:[(0,t.jsx)(J,{children:"My NFTs"}),d&&(0,t.jsx)(s.Z,{height:300}),!d&&!u&&(0,t.jsx)(q,{children:(0,t.jsx)(Q,{children:"You do not own any Moonpage NFTs :("})}),!d&&(null===u||void 0===u?void 0:u.map((function(n,e){return(0,t.jsx)(S,{group:n,onClickDetails:function(e){return b(e,n[0].projectId)},onClickRead:function(e){return g(e,n[0].projectId)}},e)})))]}),(0,t.jsxs)(X,{children:[(0,t.jsx)(J,{children:"My Projects"}),x&&(0,t.jsx)(s.Z,{height:300}),!x&&!h.length&&(0,t.jsx)(q,{children:(0,t.jsx)(Q,{children:"You have not created any Moonpage subcollections."})}),!x&&(null===h||void 0===h?void 0:h.map((function(n,e){return(0,t.jsx)(S,{group:[{title:n.title,projectId:Number(n.id)}],onClickDetails:function(e){return b(e,n.id)},onClickRead:function(e){return g(e,n.id)}},e)})))]}),(0,t.jsxs)(X,{children:[(0,t.jsx)(J,{children:"My Contributions"}),v&&(0,t.jsx)(s.Z,{height:300}),!v&&!m.length&&(0,t.jsx)(q,{children:(0,t.jsx)(Q,{children:"You have not created any Moonpage subcollections."})}),!v&&(null===m||void 0===m?void 0:m.map((function(n,e){return(0,t.jsx)(S,{group:[{creator:n.project.creator,title:n.project.title,projectId:Number(n.project.id),contributionRole:n.role,contributionSharePercentage:Number(n.sharePercentage)}],onClickDetails:function(e){return b(e,n.project.id)},onClickRead:function(e){return g(e,n.project.id)}},e)})))]})]}):(0,t.jsx)(q,{children:(0,t.jsx)(Q,{children:"Looks like you're not connected."})})]})})}},function(n){n.O(0,[774,888,179],(function(){return e=6159,n(n.s=e);var e}));var e=n.O();_N_E=e}]);